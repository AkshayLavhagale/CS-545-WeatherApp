<!DOCTYPE html>
<html lang="en">
  <head>
    <title>WeatherApp</title>
    <!-- Required meta tags -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://use.typekit.net/uwe4jcq.css" />

    <!--Fav icon-->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/favicon-16x16.png"
    />
    <link rel="manifest" href="/images/site.webmanifest" />
    <link
      rel="mask-icon"
      href="/images/safari-pinned-tab.svg"
      color="#5bbad5"
    />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#ffffff" />
    <!--End Fav icon-->
    <script src="weather.js"></script>
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
  </head>

  <body onload="initGeolocation();">
    <div class="wpBackground">
      <div class="d-flex flex-column h-100">
        <div id="wpMain" class="container">
          <div class="row">
            <div id="wpTitle" class="col text-center">WeatherApp</div>
          </div>
          <div class="row">
            <div id="wpCurrent" class="col">
              <div class="row">
                <div id="wpTemp" class="col-sm">
                  <div id="location" class="row col d-md-inline-block">
                    Hoboken, NJ
                  </div>
                  <div class="row col d-md-inline-block" id="dayTime">
                    Monday, 8:00PM
                  </div>
                  <div class="row col d-md-inline-block" id="summary">
                    Mostly Sunny
                  </div>
                  <div class="row col d-md-inline-block" id="currentTemp">
                    90&deg;
                  </div>
                  <div class="row col d-md-inline-block" id="weatherDataUpdate">
                    <button onclick="speech()" type="button" value="Play">
                      Listen to Weather Update!
                    </button>
                  </div>
                </div>
              </div>
              <script
                type="text/javascript"
                src="https://widgets-viewer.climacell.co/v1/sdk.js"
              ></script>
              <div
                class="climacell-widget transparent-bg"
                data-apikey="cPpDlM2hkJK1nJbfRXfW0Awg64k6E5vm"
                data-type="nowcast"
                data-location-name="Jersey City, NJ 07307, USA"
                data-location-lon="-71.04974909999999"
                data-location-lat="42.3502782"
                data-size-mode="large"
                data-font-color="#000"
                data-background-color="#fff"
                data-font-family="verdana"
                data-weather-params="temp:F,precipitation:mm/hr,wind_speed:mph,humidity:%,cloud_cover:%"
                data-precipitation-timeline="true"
                data-allow-users-enter-address="true"
              ></div>
            </div>
          </div>

          <div class="row">
            <div id="wpConditions" class="col-md">
              <div class="row">
                <div id="perciptation" class="col-md">Percepitation 80%</div>
              </div>
              <div class="row">
                <div id="humidty" class="col-md">Humidity 68%</div>
              </div>
              <div class="row">
                <div id="wind" class="col-md">Wind 11mph</div>
              </div>
            </div>

            <div id="wpForecast" class="col-md">
              <!-- Nav tabs -->
              <ul class="nav nav-tabs" id="forecastTab">
                <li class="nav-item">
                  <a class="nav-link" data-toggle="tab" href="#weekly"
                    >Hourly</a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link active" data-toggle="tab" href="#daily"
                    >Weekly</a
                  >
                </li>
              </ul>
              <!-- Tab panes -->
              <div class="tab-content">
                <div class="tab-pane container active" id="daily">
                  <table id="dailyForecast" width="100%"></table>
                </div>
                <div class="tab-pane container fade" id="weekly">
                  <table id="weeklyForecast" width="100%"></table>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div id="wpFooter" class="col text-center">
              <div class="row">
                <div class="col">
                  <a href="https://darksky.net/poweredby/" target="_blank"></a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
    <!--  These scripts are for speech to text-->
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=AavQenOY"></script>
    <!--  <script> setTimeout(responsiveVoice.speak("Welcome to the Weather App"),1500);</script>-->
    <div class="container">
      <h1 class="text-center mt-2">COVID-19 Live Data</h1>
      <!-- <br><br> -->
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Total Cases</th>
            <th>Total Deaths</th>
            <th>Total Recovered</th>
          </tr>
        </thead>
        <tbody>
          <tr id="data"></tr>
        </tbody>
      </table>
    </div>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    $(document).ready(function () {
      init();

      function init() {
        var url = "https://api.covid19api.com/summary";
        var data = "";
        $.get(url, function (data) {
          console.log(data.Global);
          data = `
          <td>${data.Global.TotalConfirmed}</td>
          <td>${data.Global.TotalDeaths}</td>
          <td>${data.Global.TotalRecovered}</td>
          `;

          $("#data").html(data);
        });
      }
    });
  </script>
</html>
